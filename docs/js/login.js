const loginUsuario = o => { $.ajax({ url: BASE_URL.slice(0, BASE_URL.length - 4) + "/login", method: "POST", data: JSON.stringify(o), contentType: "application/json", success: o => { localStorage.setItem("usuario", JSON.stringify(o.user)), showToast("Has iniciado sesion con exito", "success", (() => { window.location.href = "home.html" })) }, error: o => { showToast(o.responseJSON, "error") } }) }; $((() => { $("#formulario").on("submit", (o => { o.preventDefault(); const s = Object.fromEntries(new FormData(o.target).entries()); Object.values(s).includes("") ? showToast("Llene todos los campos", "error") : loginUsuario(s) })) }));