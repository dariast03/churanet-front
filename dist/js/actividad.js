const obtenerEstadisticas = () => { const e = getUserAuth().id; $.ajax({ url: `${BASE_URL}/posts?userId=${e}`, method: "GET", dataType: "json", success: e => { e.forEach((e => { e.fecha = new Date(e.fecha) })); const t = new Date, a = new Date(t); a.setDate(t.getDate() - 1); const s = new Date(t); s.setDate(t.getDate() - 7); const n = new Date(t); n.setMonth(t.getMonth() - 1); const c = e.filter((e => e.fecha > a)), o = e.filter((e => e.fecha > s)), r = e.filter((e => e.fecha > n)); Highcharts.chart("grafica", { chart: { type: "bar" }, title: { text: "Cantidad de Publicaciones" }, xAxis: { categories: ["DÃ­a", "Semana", "Mes", "Todo"] }, yAxis: { title: { text: "Cantidad" } }, series: [{ name: "Cantidad de Publicaciones", data: [c.length, o.length, r.length, e.length] }] }) }, error: e => { console.error("Error al obtener los datos de las publicaciones:", e) } }) }; $((() => { obtenerEstadisticas() }));